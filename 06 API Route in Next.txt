ðŸ“Œ API Routes in Next.js
Next.js backend ke liye serverless API routes provide karta hai. Yeh API routes pages ke andar pages/api/ folder mein hote hain aur automatic API endpoints ban jate hain.

ðŸ”¹ 1. Basic API Route
âœ… Ek simple API route jo JSON response return kare.

ðŸ“ File Structure:

bash
Copy
Edit
/pages
 â”œâ”€â”€ api
 â”‚    â”œâ”€â”€ hello.ts   â†’ "/api/hello"
âœ… Example: pages/api/hello.ts

tsx
Copy
Edit
import { NextApiRequest, NextApiResponse } from "next";

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  res.status(200).json({ message: "Hello from Next.js API!" });
}
ðŸ“Œ Yeh API /api/hello par available hogi.
âž¡ Browser ya Postman mein /api/hello open karne pe { "message": "Hello from Next.js API!" } milega.

ðŸ”¹ 2. Dynamic API Route ([id].ts)
âœ… Agar humein dynamic data serve karna ho, toh [id].ts use kar sakte hain.

ðŸ“ File Structure:

bash
Copy
Edit
/pages
 â”œâ”€â”€ api
 â”‚    â”œâ”€â”€ product
 â”‚    â”‚    â”œâ”€â”€ [id].ts  â†’ "/api/product/:id"
âœ… Example: pages/api/product/[id].ts

tsx
Copy
Edit
import { NextApiRequest, NextApiResponse } from "next";

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  const { id } = req.query; // URL se `id` le raha hai
  res.status(200).json({ productId: id, name: `Product ${id}` });
}
ðŸ“Œ URL /api/product/123 par request bhejne se yeh JSON return hoga:

json
Copy
Edit
{ "productId": "123", "name": "Product 123" }
ðŸ”¹ 3. Handling POST Requests
âœ… Agar API POST request handle kare, toh req.method check karna zaroori hai.

âœ… Example: pages/api/user.ts (POST & GET Handling)

tsx
Copy
Edit
import { NextApiRequest, NextApiResponse } from "next";

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method === "POST") {
    const { name } = req.body;
    return res.status(201).json({ message: `User ${name} created!` });
  }

  res.status(405).json({ error: "Method Not Allowed" });
}
ðŸ“Œ POST request ke saath body mein { "name": "Hamza" } bhejne se:

json
Copy
Edit
{ "message": "User Hamza created!" }
ðŸ”¹ 4. Calling API in a Frontend Component
âœ… Agar frontend component API call kare, toh fetch ya axios use hota hai.

tsx
Copy
Edit
import { useEffect, useState } from "react";

export default function FetchData() {
  const [data, setData] = useState(null);

  useEffect(() => {
    fetch("/api/hello") // API call
      .then((res) => res.json())
      .then((data) => setData(data));
  }, []);

  return <p>{data ? data.message : "Loading..."}</p>;
}
ðŸ“Œ Jab page load hoga, toh API call hoke "Hello from Next.js API!" show hoga.

âœ… Summary
âœ” API routes pages/api/ folder mein hote hain.
âœ” Static & Dynamic API routes ([id].ts) bana sakte hain.
âœ” POST, GET aur other HTTP methods handle kar sakte hain.
âœ” Frontend se API call fetch ya axios se hoti hai.